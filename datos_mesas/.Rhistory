library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
library(tidyr)
preferencias_2 <- pivot_longer(preferencias, cols = STM:JG, names_to = "Pref", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = c("1", "2", "3", "4", "5"))
preferencias_final <- pivot_wider(preferencias_2, names_from = "Pref", values_from = "Candidato")
head(preferencias_final)
View(preferencias)
View(tabla)
library(tidyr)
preferencias_2 <- pivot_longer(preferencias, cols = STM:JG, names_to = "Pref", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = c("STM", "PB", "HRL", "JM", "JG"))
preferencias_final <- pivot_wider(preferencias_2, names_from = "Pref", values_from = "Candidato")
head(preferencias_final)
library(tidyr)
preferencias_2 <- pivot_longer(preferencias, cols = STM:JG, names_to = "Candidato", values_to = "Pref")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = c("STM", "PB", "HRL", "JM", "JG"))
preferencias_final <- pivot_wider(preferencias_2, names_from = "Pref", values_from = "Candidato")
head(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
preferencias$STM <- c("HRL", "PB", "STM", "JM", "JG")[preferencias$STM]
preferencias$PB <- c("HRL", "PB", "STM", "JM", "JG")[preferencias$PB]
preferencias$HRL <- c("HRL", "PB", "STM", "JM", "JG")[preferencias$HRL]
preferencias$JM <- c("HRL", "PB", "STM", "JM", "JG")[preferencias$JM]
preferencias$JG <- c("HRL", "PB", "STM", "JM", "JG")[preferencias$JG]
preferencias_2 <- pivot_longer(preferencias, cols = STM:JG, names_to = "Pref", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = c("HRL", "PB", "STM", "JM", "JG"))
preferencias_final <- pivot_wider(preferencias_2, names_from = "Pref", values_from = "Candidato")
head(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
library(tidyr)
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
preferencias_2 <- pivot_longer(preferencias, cols = STM:JG, names_to = "Orden", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
head(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
library(tidyr)
# Crear un vector de nombres de columna para los ordenamientos
ordenamientos <- c("Orden 1", "Orden 2", "Orden 3", "Orden 4", "Orden 5")
# Cambiar los números en el DataFrame de preferencias a nombres de candidatos
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
# Agregar el vector de nombres de columna como nombres de las columnas de preferencias
colnames(preferencias)[2:6] <- ordenamientos
# Crear el DataFrame preferencias_2
preferencias_2 <- pivot_longer(preferencias, cols = starts_with("Orden"), names_to = "Orden", values_to = "Candidato")
# Cambiar el tipo de dato de Candidato a factor con los nombres correctos
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
# Reorganizar los datos usando pivot_wider
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
# Mostrar los primeros registros del DataFrame resultante
head(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
library(tidyr)
ordenamientos <- c("Orden 1", "Orden 2", "Orden 3", "Orden 4", "Orden 5")
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
colnames(preferencias)[2:6] <- ordenamientos
preferencias_2 <- pivot_longer(preferencias, cols = starts_with("Orden"), names_to = "Orden", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
head(preferencias_final)
View(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
library(tidyr)
ordenamientos <- c("Orden 1", "Orden 2", "Orden 3", "Orden 4", "Orden 5")
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
colnames(preferencias)[2:6] <- ordenamientos
preferencias_2 <- pivot_longer(preferencias, cols = starts_with("Orden"), names_to = "Orden", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
head(preferencias_final)
View(preferencias)
View(preferencias_final)
View(tabla)
View(preferencias)
indice <- 1:48
preferencias_final$n <- indice
head(preferencias_final)
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
indice <- 1:48
preferencias$n <- indice
head(preferencias)
library(tidyr)
ordenamientos <- c("Orden 1", "Orden 2", "Orden 3", "Orden 4", "Orden 5")
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
colnames(preferencias)[2:6] <- ordenamientos
preferencias_2 <- pivot_longer(preferencias, cols = starts_with("Orden"), names_to = "Orden", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
head(preferencias_final)
write.xlsx(preferencias_final, "preferencias_final.xlsx")
getwd()
rm(list=ls())
library(openxlsx)
tabla <- read.xlsx("/Users/IDECOR/Documents/Code/UNC/Eco Pol/Preferencia por candidatos (respuestas).xlsx")
names(tabla)
library(dplyr)
tabla <- rename(tabla, n = Marca.temporal,
STM = Sergio.Massa,
PB = Patricia.Bullrich,
HRL = Horacio.Rodriguez.Larreta,
JM = Javier.Milei,
JG = Juan.Grabois,
IntencionPASO = "¿Cuál.es.su.intención.de.voto.para.las.PASO?",
IntencionOtro = "En.caso.de.seleccionar.\"Otro\".¿A.quién.votaría?",
IntencionHRLgana = "Ante.el.eventual.escenario.que.Horacio.Rodríguez.Larreta.gane.la.interna.contra.Patricia.Bullrich,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
IntencionPBgana = "Ante.el.eventual.escenario.que.Patricia.Bullrich.gane.la.interna.contra.Horacio.Rodriguez.Larreta,.¿Cuál.sería.su.intención.de.voto.en.las.elecciones.generales?",
STMvsHRL = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Horacio.Rodríguez.Larreta,.¿A.quién.votaría?",
STMvsPB = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Patricia.Bullrich,.¿A.quién.votaría?",
STMvsJM = "Ante.un.eventual.enfrentamiento.entre.Sergio.Massa.y.Javier.Milei,.¿A.quién.votaría?",
HRLvsJM = "Ante.un.eventual.enfrentamiento.entre.Horacio.Rodríguez.Larreta.y.Javier.Milei,.¿A.quién.votaría?",
PBvsJM = "Ante.un.eventual.enfrentamiento.entre.Patricia.Bullrich.y.Javier.Milei,.¿A.quién.votaría?"
)
names(tabla)
preferencias <- tabla[, 1:6]
names(preferencias)
head(preferencias)
indice <- 1:48
preferencias$n <- indice
head(preferencias)
library(tidyr)
ordenamientos <- c("Orden 1", "Orden 2", "Orden 3", "Orden 4", "Orden 5")
candidatos <- c("STM", "PB", "HRL", "JM", "JG")
preferencias[candidatos] <- candidatos[unlist(preferencias[candidatos])]
colnames(preferencias)[2:6] <- ordenamientos
preferencias_2 <- pivot_longer(preferencias, cols = starts_with("Orden"), names_to = "Orden", values_to = "Candidato")
preferencias_2$Candidato <- factor(preferencias_2$Candidato, levels = candidatos)
preferencias_final <- pivot_wider(preferencias_2, names_from = "Orden", values_from = "Candidato")
head(preferencias_final)
rm(list=ls())
webbrowser.open('https://youtu.be/H_vQt_v8Jmw')
system("iexplore.exe https://youtu.be/H_vQt_v8Jmw")
install.packages("rmarkdown")
library(knitr)
directorio <- "/Users/IDECOR/Documents/Code/Political_Economy/datos_mesas/"
setwd(directorio)
getwd()
datos <- read.csv("votacion.csv")
names(datos)
head(datos)
agrupaciones <- read.csv("agrupacion.csv")
head(agrupaciones)
listas <- read.csv("lista.csv")
head(listas)
mesas <- read.csv("mesa.csv")
head(mesas)
cargos <- read.csv("cargo.csv")
cargos
tdv <- read.csv("tipovoto.csv")
tdv
elecciontipo <- read.csv("eleccion.csv")
elecciontipo
circuito <-  read.csv("circuito.csv")
head(circuito)
provincias <- read.csv("distrito.csv")
table(provincias$nombre); names(provincias)
seccion <- read.csv("seccion.csv")
head(seccion)
seccion_prov <- read.csv("seccionprovincial.csv")
head(seccion_prov)
names(datos)
names(circuito)
table(datos$circuito_id)
table(circuito$distrito_id)
table(datos$distrito_id)
head(circuito$distrito_id)
head(datos$distrito_id)
datos_distrito <- left_join(datos, circuito, by = "distrito_id")
library(dplyr)
datos_distrito <- left_join(datos, circuito, by = "distrito_id")
View(datos)
View(circuito)
View(provincias)
datos_provincias <- left_join(datos, provincias, by = "distrito_id")
View(datos_provincias)
names(datos_provincias)
View(datos_provincias)
datos_provincias <- datos_provincias[, -c(12, 13)]
names(datos_provincias)
head(datos_provincias)
rename(datos_provincias, distrito_nombre = nombre,)
head(datos_provincias)
datos_provincias <- rename(datos_provincias, distrito_nombre = nombre)
head(datos_provincias)
rm(datos)
library(ggplot2)
ggplot(data = datos_provincias,
aes(x = distrito_nombre, y = sum(votos))) +
geom_bar(stat = "identity",
fill = 'lightblue') +
ggtitle("Votos por Provincia") +
scale_y_continuous(labels = scales::label_number_si())
graph = datos_provincias  %>%
group_by(distrito_id)  %>%
summarise(suma_votos = sum(votos))
graph
library(ggplot2)
ggplot(data = graph,
aes(x = distrito_id, y = suma_votos)) +
geom_bar(stat = "identity",
fill = 'lightblue') +
ggtitle("Votos por Provincia")
summary(datos_provincias)
head(cargos)
head(datos_provincias$cargo_id)
table(datos_provincias$cargo_id)
cargos
table(datos_provincias$cargo_id)
datos_provincias$cargo <- case_when(datos_provincias$cargo_id == 1 ~ "Presidente",
datos_provincias$cargo_id == 2 ~ "Sen_Nac",
datos_provincias$cargo_id == 3 ~ "Dip_Nac",
datos_provincias$cargo_id == 4 ~ "Gobernador",
datos_provincias$cargo_id == 5 ~ "Sen_Prov",
datos_provincias$cargo_id == 6 ~ "Dip_Prov",
datos_provincias$cargo_id == 7 ~ "Intendente",
datos_provincias$cargo_id == 8 ~ "Mercosur_Nac",
datos_provincias$cargo_id == 9 ~ "Mercosur_Prov",
datos_provincias$cargo_id == 10 ~ "Concejales")
table(datos_provincias$cargo)
head(datos_provincias)
############################### ECO POL 2023 ##################################
############################### DATOS MESAS ###################################
rm(list=ls())
directorio <- "/Users/IDECOR/Documents/Code/Political_Economy/datos_mesas/"
setwd(directorio)
getwd()
datos <- read.csv("votacion.csv")
names(datos)
head(datos)
agrupaciones <- read.csv("agrupacion.csv")
head(agrupaciones)
listas <- read.csv("lista.csv")
head(listas)
mesas <- read.csv("mesa.csv")
head(mesas)
cargos <- read.csv("cargo.csv")
cargos
tdv <- read.csv("tipovoto.csv")
tdv
elecciontipo <- read.csv("eleccion.csv")
elecciontipo
circuito <-  read.csv("circuito.csv")
head(circuito)
provincias <- read.csv("distrito.csv")
table(provincias$nombre); names(provincias)
seccion <- read.csv("seccion.csv")
head(seccion)
seccion_prov <- read.csv("seccionprovincial.csv")
head(seccion_prov)
# Sumamos nombres distritos
names(datos)
names(provincias)
library(dplyr)
datos_provincias <- left_join(datos, provincias, by = "distrito_id")
names(datos_provincias)
datos_provincias <- datos_provincias[, -c(12, 13)]
datos_provincias <- rename(datos_provincias, distrito_nombre = nombre)
head(datos_provincias); rm(datos)
# Sumamos nombres cargos
cargos
table(datos_provincias$cargo_id)
datos_provincias$cargo_nombre <- case_when(datos_provincias$cargo_id == 1 ~ "Presidente",
datos_provincias$cargo_id == 2 ~ "Sen_Nac",
datos_provincias$cargo_id == 3 ~ "Dip_Nac",
datos_provincias$cargo_id == 4 ~ "Gobernador",
datos_provincias$cargo_id == 5 ~ "Sen_Prov",
datos_provincias$cargo_id == 6 ~ "Dip_Prov",
datos_provincias$cargo_id == 7 ~ "Intendente",
datos_provincias$cargo_id == 8 ~ "Mercosur_Nac",
datos_provincias$cargo_id == 9 ~ "Mercosur_Prov",
datos_provincias$cargo_id == 10 ~ "Concejales")
table(datos_provincias$cargo_nombre)
head(datos_provincias)
rm(cargos)
rm(provincias)
View(tdv)
View(seccion_prov)
View(seccion)
View(mesas)
View(listas)
View(elecciontipo)
head(elecciontipo)
elecciontipo <- elecciontipo[, -c(2, 7)]
head(elecciontipo)
names(elecciontipo)
datos <- left_join(datos_provincias, elecciontipo, by = "eleccion_id")
head(datos)
names(datos)
rm(datos_provincias, elecciontipo)
View(tdv)
View(listas)
View(agrupaciones)
View(tdv)
View(tdv)
View(seccion_prov)
View(seccion)
View(mesas)
View(agrupaciones)
View(listas)
View(circuito)
rm(circuito, listas)
names(agrupaciones)
names(tdv)
head(tdv)
names(datos)
names(datos)
names(agrupaciones)
head(tdv)
names(datos)
head(agrupaciones)
head(tdv)
View(seccion_prov)
View(seccion)
rm(seccion, seccion_prov)
datos2 <- left_join(datos, tdv, by = "tipovoto_id")
head(datos2)
tdv
datos2 <- rename(datos2, tdv = nombre)
names(datos2)
head(datos2)
datos2 <- datos2[, -c(18)]
head(datos2)
datos <- datos2; rm(datos2)
names(datos)
rm(tdv)
names(agrupaciones)
table(agrupaciones$nombre)
names(agrupaciones)
table(agrupaciones$agrupacion_id)
names(agrupaciones)
table(agrupaciones$nombre)
head(datos)
table(datos$cargo_nombre)
table(datos$eleccion_tipo)
table(datos$tdv)
table(datos$distrito_nombre)
names(agrupaciones)
names(agrupaciones)
table(agrupaciones$agrupacion_id)
table(agrupaciones$nombre)
View(agrupaciones)
